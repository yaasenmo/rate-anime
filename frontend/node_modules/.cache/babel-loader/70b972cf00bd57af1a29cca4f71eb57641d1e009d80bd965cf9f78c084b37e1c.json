{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Home\\\\OneDrive\\\\Desktop\\\\Ratemyanime\\\\frontend\\\\src\\\\components\\\\AnimeCard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Heart, MessageCircle, Star } from 'lucide-react';\nimport { useAuth } from '../context/AuthContext';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AnimeCard = ({\n  anime,\n  onLike\n}) => {\n  _s();\n  var _anime$likes, _anime$averageRating, _anime$genre;\n  const {\n    isAuthenticated\n  } = useAuth();\n  const [liked, setLiked] = useState(false);\n  const [likeCount, setLikeCount] = useState(((_anime$likes = anime.likes) === null || _anime$likes === void 0 ? void 0 : _anime$likes.length) || 0);\n  const handleLike = async e => {\n    e.preventDefault();\n    if (!isAuthenticated) return;\n    try {\n      const res = await api.post(`/anime/${anime._id}/like`);\n      setLiked(res.data.liked);\n      setLikeCount(res.data.data.likes.length);\n      if (onLike) onLike(anime._id, res.data.liked);\n    } catch (err) {\n      console.error('Error liking anime:', err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-dark-200 rounded-xl overflow-hidden border border-gray-800 hover:border-primary-500/50 transition-all duration-300 group\",\n    children: [/*#__PURE__*/_jsxDEV(Link, {\n      to: `/anime/${anime._id}`,\n      className: \"relative aspect-[3/4] overflow-hidden block cursor-pointer\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: `http://localhost:5000/uploads/${anime.image}`,\n        alt: anime.title,\n        className: \"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute inset-0 bg-gradient-to-t from-dark-300 via-transparent to-transparent\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"absolute top-3 right-3 flex items-center gap-1 bg-dark-300/80 backdrop-blur-sm px-2 py-1 rounded-full\",\n        children: [/*#__PURE__*/_jsxDEV(Star, {\n          className: \"text-yellow-400 fill-yellow-400\",\n          size: 14\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium\",\n          children: ((_anime$averageRating = anime.averageRating) === null || _anime$averageRating === void 0 ? void 0 : _anime$averageRating.toFixed(1)) || '0.0'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"font-bold text-lg mb-2 truncate group-hover:text-primary-400 transition-colors\",\n        children: anime.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-400 text-sm line-clamp-2 mb-4\",\n        children: anime.description\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center gap-2 mb-3\",\n        children: (_anime$genre = anime.genre) === null || _anime$genre === void 0 ? void 0 : _anime$genre.slice(0, 2).map((g, i) => /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"px-2 py-1 text-xs bg-primary-600/20 text-primary-400 rounded-full\",\n          children: g\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between pt-3 border-t border-gray-800\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLike,\n          disabled: !isAuthenticated,\n          className: `flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${liked ? 'text-red-500 bg-red-500/10' : 'text-gray-400 hover:text-red-500 hover:bg-red-500/10'} ${!isAuthenticated && 'opacity-50 cursor-not-allowed'}`,\n          children: [/*#__PURE__*/_jsxDEV(Heart, {\n            size: 18,\n            className: liked ? 'fill-current' : ''\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm\",\n            children: likeCount\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/anime/${anime._id}`,\n          className: \"flex items-center gap-2 px-3 py-2 text-gray-400 hover:text-primary-400 hover:bg-primary-500/10 rounded-lg transition-colors\",\n          children: [/*#__PURE__*/_jsxDEV(MessageCircle, {\n            size: 18\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm\",\n            children: \"Comments\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, this);\n};\n_s(AnimeCard, \"qIf2KgH4RHi9hmMUQr0Ny47/1NI=\", false, function () {\n  return [useAuth];\n});\n_c = AnimeCard;\nexport default AnimeCard;\nvar _c;\n$RefreshReg$(_c, \"AnimeCard\");","map":{"version":3,"names":["React","useState","Link","Heart","MessageCircle","Star","useAuth","api","jsxDEV","_jsxDEV","AnimeCard","anime","onLike","_s","_anime$likes","_anime$averageRating","_anime$genre","isAuthenticated","liked","setLiked","likeCount","setLikeCount","likes","length","handleLike","e","preventDefault","res","post","_id","data","err","console","error","className","children","to","src","image","alt","title","fileName","_jsxFileName","lineNumber","columnNumber","size","averageRating","toFixed","description","genre","slice","map","g","i","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Home/OneDrive/Desktop/Ratemyanime/frontend/src/components/AnimeCard.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { Heart, MessageCircle, Star } from 'lucide-react';\r\nimport { useAuth } from '../context/AuthContext';\r\nimport api from '../services/api';\r\n\r\nconst AnimeCard = ({ anime, onLike }) => {\r\n  const { isAuthenticated } = useAuth();\r\n  const [liked, setLiked] = useState(false);\r\n  const [likeCount, setLikeCount] = useState(anime.likes?.length || 0);\r\n\r\n  const handleLike = async (e) => {\r\n    e.preventDefault();\r\n    if (!isAuthenticated) return;\r\n\r\n    try {\r\n      const res = await api.post(`/anime/${anime._id}/like`);\r\n      setLiked(res.data.liked);\r\n      setLikeCount(res.data.data.likes.length);\r\n      if (onLike) onLike(anime._id, res.data.liked);\r\n    } catch (err) {\r\n      console.error('Error liking anime:', err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-dark-200 rounded-xl overflow-hidden border border-gray-800 hover:border-primary-500/50 transition-all duration-300 group\">\r\n      <Link to={`/anime/${anime._id}`} className=\"relative aspect-[3/4] overflow-hidden block cursor-pointer\">\r\n        <img\r\n          src={`http://localhost:5000/uploads/${anime.image}`}\r\n          alt={anime.title}\r\n          className=\"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300\"\r\n        />\r\n        <div className=\"absolute inset-0 bg-gradient-to-t from-dark-300 via-transparent to-transparent\" />\r\n        \r\n        <div className=\"absolute top-3 right-3 flex items-center gap-1 bg-dark-300/80 backdrop-blur-sm px-2 py-1 rounded-full\">\r\n          <Star className=\"text-yellow-400 fill-yellow-400\" size={14} />\r\n          <span className=\"text-sm font-medium\">{anime.averageRating?.toFixed(1) || '0.0'}</span>\r\n        </div>\r\n      </Link>\r\n\r\n      <div className=\"p-4\">\r\n        <h3 className=\"font-bold text-lg mb-2 truncate group-hover:text-primary-400 transition-colors\">\r\n          {anime.title}\r\n        </h3>\r\n        \r\n        <p className=\"text-gray-400 text-sm line-clamp-2 mb-4\">\r\n          {anime.description}\r\n        </p>\r\n\r\n        <div className=\"flex items-center gap-2 mb-3\">\r\n          {anime.genre?.slice(0, 2).map((g, i) => (\r\n            <span\r\n              key={i}\r\n              className=\"px-2 py-1 text-xs bg-primary-600/20 text-primary-400 rounded-full\"\r\n            >\r\n              {g}\r\n            </span>\r\n          ))}\r\n        </div>\r\n\r\n        <div className=\"flex items-center justify-between pt-3 border-t border-gray-800\">\r\n          <button\r\n            onClick={handleLike}\r\n            disabled={!isAuthenticated}\r\n            className={`flex items-center gap-2 px-3 py-2 rounded-lg transition-colors ${\r\n              liked\r\n                ? 'text-red-500 bg-red-500/10'\r\n                : 'text-gray-400 hover:text-red-500 hover:bg-red-500/10'\r\n            } ${!isAuthenticated && 'opacity-50 cursor-not-allowed'}`}\r\n          >\r\n            <Heart size={18} className={liked ? 'fill-current' : ''} />\r\n            <span className=\"text-sm\">{likeCount}</span>\r\n          </button>\r\n\r\n          <Link\r\n            to={`/anime/${anime._id}`}\r\n            className=\"flex items-center gap-2 px-3 py-2 text-gray-400 hover:text-primary-400 hover:bg-primary-500/10 rounded-lg transition-colors\"\r\n          >\r\n            <MessageCircle size={18} />\r\n            <span className=\"text-sm\">Comments</span>\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnimeCard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}